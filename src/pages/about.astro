---
import MainLayout from "../layouts/mainLayout.astro";
import Navigation from "../components/Navigation.astro";
import Footer from "../components/Footer.astro";
import Card from "../components/Card.astro";
import "../styles/global.css";

const pageTitle = "Tienda";

const response = await fetch("https://fakestoreapi.com/products");
const data = await response.json();
---

<MainLayout pageTitle={pageTitle}>

    <div class="container mx-auto max-w-7xl px-2 lg:px-8">
        <h1 class="text-3xl font-bold underline mt-2">{pageTitle}</h1>
    </div>

    <div class="container px-4 mx-auto pb-12 py-16">
        <div class="mt-6 grid grid-cols-1 gap-x-14 gap-y-20 sm:grid-cols-2 lg:grid-cols-3 xl:gap-x-8" >
            {
                data.map((producto) => (
                    <fragment key={producto.id}>{" "}
                        <a href={producto.id}> 
                            <Card imagen={producto.image} nombre={producto.title} descripcion={producto.description} /> 
                        </a>
                    </fragment>
                ))
            }
        </div>
    </div>

</MainLayout>

<script>
    import "preline/dist/preline.js";
</script>
